process {

  errorStrategy = { task.attempt < 2 ? 'retry' : 'ignore'}
  maxRetries    = 1
  maxErrors     = '-1'

  withLabel:process_single {
    cpus   = 1
  }
  withLabel:process_medium {
    cpus   = params.medcpus
  }
  withLabel:process_high {
    cpus   = params.maxcpus
  }
}